# ğŸ§© å…³äºåŒ…ç®¡ç†å™¨

## ç»™åŒ…æ”¹ä¸ªåå­—

```json
// package.json
"dependencies": {
  "vite": "npm:rolldown-vite@^6.3.18"
}
```

è¿™æ ·ä½ çš„viteå°†ä¼šä½¿ç”¨ `rolldown-vite`

## package tag

npm publish æ—¶ï¼Œå¯ä»¥ç»™åŒ…æ·»åŠ  tagï¼Œæ–¹ä¾¿ç”¨æˆ·é€‰æ‹©å®‰è£…

```bash
npm publish --tag <tagname>
```

- alpha: é¢„è§ˆç‰ˆæˆ–å†…éƒ¨æµ‹è¯•ç‰ˆ
- beta: å…¬å¼€æµ‹è¯•ç‰ˆ
- latest: æœ€æ–°ç‰ˆ
- å¯ä»¥è‡ªå®šä¹‰

**æŸ¥çœ‹**ä¸€ä¸ªåŒ…çš„æ‰€æœ‰ tag

```bash
npm dist-tag ls <your package>
```

**åˆ é™¤**ä¸€ä¸ª tag

```bash
npm dist-tag rm <package> <tagname>
```

**æ·»åŠ **ä¸€ä¸ª tag

```bash
npm dist-tag add <package>@<version> <tagname>
```

## å®‰è£…é€‰é¡¹

1. --save-dev(ç®€å†™ -D)â€‹: å°†åŒ…æ·»åŠ åˆ°å¼€å‘ä¾èµ–ä¸­
2. --global(ç®€å†™ -g): å°†åŒ…å®‰è£…åˆ°å…¨å±€ç¯å¢ƒä¸­
3. --save-exact(ç®€å†™ -E): ç²¾ç¡®ç‰ˆæœ¬å·å®‰è£…, ä¸ä¼šæœ‰è¯­ä¹‰åŒ–ç‰ˆæœ¬èŒƒå›´

## npx æ˜¯ä»€ä¹ˆ

**ä¸´æ—¶å®‰è£…**å¹¶è¿è¡Œä¸€ä¸ª Node.js åŒ…ï¼Œè€Œæ— éœ€å…¨å±€å®‰è£…æˆ–æ˜¾å¼æ·»åŠ åˆ°é¡¹ç›®ä¾èµ–ä¸­

æ¯”å¦‚ä¸´æ—¶ä½¿ç”¨ `crate-react-app`

```bash
npx create-react-app my-app
```

## å¸¸ç”¨å‘½ä»¤

åŸºäºç°æœ‰ lockfile å®‰è£…ä¾èµ–ï¼ˆä¸æ›´æ–° lockfileï¼‰

```bash
npm i --frozen-lockfile
```

## npm link æœ¬åœ°è½¯é“¾çš„æŒ‡å— (pnpm)

[ ] æµ‹è¯•.d.ts ç±»å‹æ–‡ä»¶, ä¹‹å‰æµ‹è¯•æ—¶æœªç”Ÿæ•ˆ

å°†æœ¬åœ°ä»£ç é“¾æ¥åˆ° npm å…¨å±€è½¯é“¾æ¥, å¯ä»¥é€šè¿‡è¿™ä¸ªè½¯è¿æ¥æµ‹è¯•æœ¬åœ°ä»£ç 

æ“ä½œæ­¥éª¤:

1. è¿›å…¥åˆ°éœ€è¦ä»£ç†çš„é¡¹ç›®æ ¹ç›®å½•(åœ¨æ‰“åŒ…åä»£ç†, package.json åŒçº§ç›®å½•)

2. æ‰§è¡Œ`pnpm link --global`, æ­¤å‘½ä»¤ä¼šå°†å½“å‰åŒ…(package.json ä¸­çš„ name)ä»£ç†åˆ° pnpm å…¨å±€å‚¨å­˜ç›®å½•

3. åœ¨æµ‹è¯•é¡¹ç›®ä¸­å¼•å…¥è¿™ä¸ªè½¯è¿æ¥, `pnpm link --global é¡¹ç›®å`

ä¹Ÿå¯ä»¥é€šè¿‡ `pnpm add -g .` å‘½ä»¤å°†æœ¬åœ°ä»£ç é“¾æ¥åˆ° npm å…¨å±€è½¯é“¾æ¥, åˆ é™¤çš„è¯å¯ä»¥é€šè¿‡`pnpm remove -g é¡¹ç›®å`å‘½ä»¤åˆ é™¤

å…¶ä»–:

- æ›¿ä»£å‘½ä»¤ï¼ˆpnpm ç‰¹æœ‰ï¼‰**è¯¥æ–¹æ¡ˆ ai ç”Ÿæˆæœªæµ‹è¯•**

  ```bash
  # åœ¨æµ‹è¯•é¡¹ç›®ä¸­ç›´æ¥å®‰è£…æœ¬åœ°ç»„ä»¶åº“
  pnpm add /absolute/path/to/your-monorepo/packages/components
  ```

- æ¸…é™¤è½¯è¿æ¥çš„æ–¹å¼

  - æ¸…é™¤æµ‹è¯•ç›®å½•è½¯è¿æ¥

  ```bash
  # è¿›å…¥æµ‹è¯•é¡¹ç›®ç›®å½•
  cd ...

  # ä»…æ¸…é™¤å½“å‰æµ‹è¯•é¡¹ç›®çš„è½¯è¿æ¥
  pnpm unlink --global @your-scope/components
  ```

  - æ¸…é™¤å…¨å±€å‚¨å­˜çš„è½¯è¿æ¥

  ```bash
  # è¿›å…¥ç»„ä»¶åº“ç›®å½•
  cd ...

  # è§£é™¤å…¨å±€é“¾æ¥
  pnpm unlink --global
  ```

- pnpm å…¨å±€å®‰è£…ç›®å½•åœ°å€
  ```bash
  pnpm root -g
  ```
