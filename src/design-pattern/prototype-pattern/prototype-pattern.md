# 原型模式

[参考文章](https://refactoringguru.cn/design-patterns/prototype)

> 亦称: 克隆、Clone、Prototype

原型模式是一种[创建型设计模式](../design-pattern.md#创建型模式)

原型模式旨在复制一个新实例

## 场景

小宇在开发一款视频编辑器, 当她想给视频中的元素添加动画是遇到的问题, 如果动画修改了元素的尺寸, 这个时候获取到的元素尺寸是变化后的, 如果用正在动画的元素尺寸计算则会得到错误的结果

这时候想要获取元素的正确的尺寸计算量会特别庞大, 所以小宇决定**复制**一个元素, 然后对复制的元素进行动画, 获取尺寸时还是获取未进行动画的元素尺寸, 这样获取到的尺寸就是正确的尺寸

那就**重构!!!**

## 解决方法

我们引入原型模式, 将每个元素变成一个原型, **原型就是支持克隆的对象**, 我们把克隆方法放在元素内部, 这样在动画时只需要调用克隆方法, 而不用想办法从外部克隆这个元素

原型模式认为, 从外部克隆一个对象是不安全, 且不必要的, 需要吧克隆方法放在类的内部

## 贴个代码

<<< @/src/design-pattern/prototype-pattern/prototype-pattern.ts
