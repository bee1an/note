# 命令模式

> [!WARNING] 这个模式, 理解的不是很好

[参考文章](https://refactoringguru.cn/design-patterns/command)

> 亦称: 动作、事务、Action、Transaction、Command

命令模式是一种[行为型设计模式](../design-pattern.md#行为型模式)

将请求转换为一个包含所有与请求相关信息的独立对象

根据不同的请求将方法参数化, 延时请求的执行或者将请求放入队列, 且能实现撤销操作

## 场景

小宇开发了一款文本编辑器, 在点击复制按钮时, 会复制选中的文字内容以及一些其他操作, 但是用户也可以通过键盘的 `Ctrl+C` 来复制文字, 或者右键后的上下文复制, 这个时候如果复制逻辑仅仅在按钮内部实现的话, 整个复制代码会变的非常糟糕

那就**重构!!!**

## 解决方法

我们想到了将复制逻辑抽离出来, 及将ui逻辑和业务逻辑分离, 在需要时ui逻辑会将任务委派给业务逻辑

命令模式建议ui不直接调用业务逻辑, 而是调用命令对象, 命令对象会调用业务逻辑

即: ui -> 命令对象 -> 业务逻辑

这样减少了ui层与业务逻辑层的耦合

我们还可以在命令模式中添加其他逻辑来实现撤销, 延迟执行等功能

## 使用场景

- 解藕发送者和接收者
- 如果你想要将操作放入队列中, 操作的执行或者远程执行操作, 可使用命令模式
<!-- TODO -->
- 可以结合备忘录模式来实现撤销操作

## 贴个代码

<!-- TODO -->

<<< @/src/design-pattern/command-pattern/command-pattern.ts
