# mvc, mvp, mvvm 的简单理解

这三种设计模式我不是很熟, 所以只在这里简单记录一下区别和我自己的理解

这三种都是在分离数据层(model)和视图层(view), 并且后者都是前者的改进

## mvc

在数据层和视图层中间添加一个控制层(controler), 数据层的改变和视图层的改变都会通过控制层进行交互

拿dom操作来说, 数据层改变了, 那么控制层就收到这个改变的通知, 然后获取dom并且更新

这里就可以看出, 控制层和视图层是**强耦合**的

## mvp

使用一个中间层(presenter)来解耦

视图层需要暴露给中间层方法

比如, 数据层修改了数据, 中间层收到了更新通知, 那么就会调用视图层的更新方法

有此可见, 中间层和视图层是**松耦合**的

## mvvm

将mvp中间层替换为一个**ViewModel**, 来实现视图层与中间层的**解耦**

数据层修改了数据, 中间层收到了更新通知, 这时视图层会收到数据的更改然后进行更新

中间层和视图层是解耦的, 你可以将视图层替换为其他的视图

```js
import { ref } from 'vue'

export const useCounter = () => {
	const count = ref(0)
	const increment = () => {
		count.value++
	}
	return {
		count,
		increment
	}
}
```

一个简单的例子, 你可以将这个composable返回的count用在任何地方, 一旦你调用了increment, 那么依赖count的视图就会自动更新

## 总结

这三个设计模式的区别是, mvc是**强耦合**, mvp是**松耦合**, mvvm是**完全解耦**
